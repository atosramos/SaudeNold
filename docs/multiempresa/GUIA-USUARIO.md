# Guia do Usuário - Perfis Familiares

## O que são Perfis Familiares?

Perfis familiares permitem que você gerencie dados de saúde de múltiplos membros da família em uma única conta. Cada membro tem seu próprio perfil com dados completamente isolados e seguros.

## Benefícios

- ✅ **Gerenciamento Centralizado**: Todos os dados da família em um só lugar
- ✅ **Isolamento de Dados**: Dados de cada membro são privados e isolados
- ✅ **Compartilhamento Controlado**: Você decide o que compartilhar e com quem
- ✅ **Acesso Rápido**: Troque entre perfis facilmente
- ✅ **Sincronização**: Dados sincronizam entre dispositivos (com licença PRO)

---

## Como Criar e Gerenciar Perfis Familiares

### Criar Seu Primeiro Perfil

Quando você se registra no app, um perfil é criado automaticamente para você. Este perfil é o **administrador da família**.

### Adicionar Familiares

Como administrador da família, você pode adicionar outros membros:

#### Adicionar Criança (< 18 anos)

1. Vá em **Configurações** → **Perfis Familiares**
2. Toque em **Adicionar Familiar**
3. Selecione **Criança**
4. Preencha:
   - Nome
   - Data de nascimento
   - Gênero (opcional)
   - Tipo sanguíneo (opcional)
5. Toque em **Salvar**

**Nota:** Você será automaticamente configurado como cuidador da criança.

#### Adicionar Adulto (≥ 18 anos)

1. Vá em **Configurações** → **Perfis Familiares**
2. Toque em **Adicionar Familiar**
3. Selecione **Adulto**
4. Preencha os dados
5. Toque em **Salvar**

**Nota:** Adultos podem gerenciar seus próprios dados.

#### Adicionar Idoso Sob Cuidados

1. Vá em **Configurações** → **Perfis Familiares**
2. Toque em **Adicionar Familiar**
3. Selecione **Idoso Sob Cuidados**
4. Preencha os dados
5. Toque em **Salvar**

**Nota:** Você será configurado como cuidador com acesso completo.

---

## Sistema de Convites

### Enviar Convite por Email

Para convidar alguém para entrar na sua família:

1. Vá em **Configurações** → **Convites Familiares**
2. Toque em **Criar Convite**
3. Digite o email do convidado (opcional)
4. Configure as permissões:
   - **Visualizar apenas**: Convidado pode ver seus dados
   - **Visualizar e editar**: Convidado pode ver e editar seus dados
   - **Acesso completo**: Convidado tem acesso total aos seus dados
5. Toque em **Enviar Convite**

**Requisito:** Licença PRO ativa (quando dados estão no servidor)

### Aceitar Convite

Se você recebeu um convite:

1. Abra o email com o código de convite
2. No app, vá em **Configurações** → **Convites Familiares**
3. Toque em **Aceitar Convite**
4. Digite o código recebido
5. Toque em **Aceitar**

**Resultado:**
- Você entra na família
- Um perfil é criado para você
- Você pode acessar dados compartilhados conforme permissões

### Gerenciar Convites Pendentes

Como administrador, você pode:

- **Ver todos os convites**: Lista de convites enviados
- **Cancelar convite**: Cancelar um convite pendente
- **Reenviar convite**: Renovar expiração e reenviar email

---

## Gerenciar Permissões

### Configurar Cuidadores

Para perfis de crianças ou idosos, você pode configurar cuidadores:

1. Vá no perfil do membro
2. Toque em **Cuidadores**
3. Toque em **Adicionar Cuidador**
4. Selecione o membro da família
5. Escolha o nível de acesso:
   - **Apenas Visualização**: Pode ver dados, mas não editar
   - **Visualização e Edição**: Pode ver e editar dados
   - **Acesso Completo**: Acesso total aos dados

### Definir Níveis de Acesso

Para cada cuidador, você pode definir:

- **read_only**: Apenas visualização
- **read_write**: Visualização e edição
- **full**: Acesso completo

---

## Compartilhar Dados Entre Perfis

### Compartilhar Dados Básicos

1. Vá no seu perfil
2. Toque em **Compartilhar Dados**
3. Selecione o perfil que receberá os dados
4. Escolha **Dados Básicos** (apenas visualização)
5. Toque em **Compartilhar**

### Compartilhar Dados de Emergência

1. Vá em **Compartilhar Dados**
2. Selecione o perfil
3. Escolha **Dados de Emergência** (contatos, alergias, etc.)
4. Toque em **Compartilhar**

### Compartilhar Dados Completos

1. Vá em **Compartilhar Dados**
2. Selecione o perfil
3. Escolha **Acesso Completo**
4. Toque em **Compartilhar**

**Nota:** Apenas administradores podem compartilhar dados.

### Revogar Compartilhamento

1. Vá em **Compartilhar Dados**
2. Encontre o compartilhamento ativo
3. Toque em **Revogar**
4. Confirme a ação

---

## Trocar Entre Perfis

### Seleção Rápida

1. Na tela principal, toque no **ícone de perfil** (canto superior)
2. Selecione o perfil desejado
3. O app carrega os dados do perfil selecionado

### Acesso Rápido

Para perfis marcados com **Acesso Rápido**:

1. Toque e segure o ícone de perfil
2. Selecione o perfil de acesso rápido
3. Acesso instantâneo (sem confirmação)

**Nota:** Acesso rápido é recomendado apenas para perfis próprios ou de confiança.

---

## FAQ sobre Perfis Familiares

### Posso ter quantos perfis?

Atualmente, o limite é de **10 perfis por família**. Este limite pode ser ajustado conforme necessário.

### Meus dados são privados?

**Sim!** Os dados de cada perfil são completamente isolados. Ninguém pode acessar seus dados sem sua permissão explícita.

### Posso remover um perfil?

Sim, como administrador você pode remover perfis. **Atenção:** Esta ação não pode ser desfeita e todos os dados do perfil serão removidos.

### Posso transferir administração?

Atualmente, o primeiro usuário (que criou a família) é sempre o administrador. Esta funcionalidade está planejada para futuras versões.

### O que acontece se eu sair da família?

Se você sair da família:
- Seu perfil é removido
- Você perde acesso aos dados compartilhados
- Você pode criar uma nova família

### Posso ter dados em múltiplas famílias?

Não. Cada usuário pertence a apenas uma família por vez. Se você aceitar um convite de outra família, você se move para a nova família.

### Como funciona o compartilhamento de dados?

Quando você compartilha dados:
- O perfil que recebe pode acessar seus dados conforme permissões
- Você pode revogar o compartilhamento a qualquer momento
- O compartilhamento é registrado para auditoria

### Preciso de licença PRO para usar perfis familiares?

- **Não**: Você pode criar e gerenciar perfis localmente sem licença PRO
- **Sim**: Para criar convites e sincronizar dados no servidor, você precisa de licença PRO ativa

### Meus dados ficam seguros?

**Sim!** O sistema implementa:
- Isolamento completo de dados por perfil
- Criptografia em trânsito (HTTPS/TLS)
- Controle de acesso baseado em permissões
- Logs de auditoria
- Conformidade com LGPD (Brasil) e HIPAA (EUA)

### Como faço backup dos dados?

Com licença PRO:
- Dados são sincronizados automaticamente no servidor
- Backup automático diário
- Recuperação em caso de perda do dispositivo

Sem licença PRO:
- Dados ficam apenas no dispositivo
- Faça backup manual do dispositivo

---

## Dicas e Boas Práticas

### 1. Organize os Perfis

- Use nomes claros para cada perfil
- Adicione foto de perfil para identificação rápida
- Mantenha dados atualizados (tipo sanguíneo, alergias, etc.)

### 2. Gerencie Permissões com Cuidado

- Compartilhe apenas o necessário
- Revise permissões periodicamente
- Remova cuidadores que não são mais necessários

### 3. Use Acesso Rápido com Cautela

- Apenas para perfis próprios ou de alta confiança
- Não use em dispositivos compartilhados
- Revise periodicamente os perfis com acesso rápido

### 4. Mantenha Convites Atualizados

- Cancele convites não utilizados
- Reenvie convites próximos do vencimento
- Verifique status dos convites regularmente

### 5. Faça Backup Regular

- Com licença PRO: sincronização automática
- Sem licença PRO: faça backup do dispositivo regularmente

---

## Suporte

Se você tiver dúvidas ou problemas:

1. Consulte a [Documentação Técnica](./ARQUITETURA.md)
2. Verifique o [Guia de Troubleshooting](../troubleshooting/TROUBLESHOOTING.md)
3. Entre em contato com o suporte

---

## Referências

- [Arquitetura do Sistema](./ARQUITETURA.md)
- [Documentação de API](./API.md)
- [Guia de Segurança](./SEGURANCA.md)

---

**Última atualização:** Janeiro 2026
